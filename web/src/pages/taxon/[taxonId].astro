---
import Taxon from '../../components/Taxon.astro'
import Layout from '../../layouts/base.astro'
import { getTaxon } from '../../lib/mongo'

const { taxonId } = Astro.params as { taxonId: string }
const taxon = await getTaxon(taxonId)
---

<Layout
  title={`Taxon: ${
    taxon ? taxon.scientificName : `<não encontrado (${taxonId})>`
  }`}
  metaDescription={taxon?.scientificName
    ? `Flora e Funga do Brasil: ${taxon.scientificName}`
    : null}
>
  <div class="flex flex-row justify-center items-start bg-green-100 h-screen">
    {taxon ? <Taxon json={taxon} /> : <p>Taxon não encontrado</p>}
  </div>
</Layout>
