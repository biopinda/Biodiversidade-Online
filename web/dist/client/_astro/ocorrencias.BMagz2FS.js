import{j as s}from"./jsx-runtime.Cl1sUln5.js";import{a as p}from"./index.CtF3V91T.js";function o({title:r,onClick:a,sorted:c}){return s.jsxs("th",{className:"sticky top-0 px-2 z-10 bg-gray-200 text-left",onClick:a,children:[r,c?s.jsxs("span",{className:"text-slate-600",children:[" ",c===1?"▲":"▼"]}):""]})}function b({occurrences:r}){const[a,c]=p.useState(""),[h,j]=p.useState(r),[e,f]=p.useState({field:"",direction:1}),l=t=>{const i=e.field===t?e.direction*-1:1,d=[...r].sort((n,x)=>(n[t]??"")<(x[t]??"")?-1*i:(n[t]??"")>(x[t]??"")?1*i:0);j(d),f({field:t,direction:i})},m=r.find(t=>t._id===a);return s.jsxs("div",{className:"grid gap-2 grid-cols-1 lg:grid-cols-2 border border-slate-200 h-full overflow-y-auto",children:[s.jsx("div",{className:"overflow-auto h-64 lg:h-auto border-b lg:border-r lg:border-b-0 border-slate-200 lg:row-span-2",children:s.jsxs("table",{className:"border-collapse w-full cursor-default",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx(o,{title:"ipt",onClick:()=>{l("ipt")},sorted:e.field==="ipt"?e.direction:void 0}),s.jsx(o,{title:"inst.",onClick:()=>{l("institutionCode")},sorted:e.field==="institutionCode"?e.direction:void 0}),s.jsx(o,{title:"país",onClick:()=>{l("country")},sorted:e.field==="country"?e.direction:void 0}),s.jsx(o,{title:"estado",onClick:()=>{l("stateProvince")},sorted:e.field==="stateProvince"?e.direction:void 0}),s.jsx(o,{title:"município",onClick:()=>{l("municipality")},sorted:e.field==="municipality"?e.direction:void 0})]})}),s.jsx("tbody",{children:h.map(t=>s.jsxs("tr",{className:a===t._id?"bg-blue-600 text-white sticky top-6 bottom-0":"",onClick:()=>{c(t._id)},children:[s.jsx("td",{className:"px-2",children:t.ipt}),s.jsx("td",{className:"px-2",children:t.institutionCode}),s.jsx("td",{className:"px-2",children:t.country}),s.jsx("td",{className:"px-2",children:t.stateProvince}),s.jsx("td",{className:"px-2",children:t.municipality})]},t._id))})]})}),s.jsx("div",{className:"mt-2 p-2 w-full h-64 lg:h-auto overflow-y-auto break-words",children:Object.entries(m??{}).map(([t,i])=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-bold",children:[t,": "]}),Array.isArray(i)?i.map(d=>s.jsx("div",{className:"border-l-4 border-slate-800 ml-2 pl-2",children:Object.entries(d).map(([n,x])=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-bold",children:[n,": "]}),s.jsx("span",{children:x})]}))})):typeof i=="object"?s.jsx("span",{children:JSON.stringify(i)}):s.jsx("span",{children:i})]}))}),s.jsx("div",{className:"grid gap-2 items-start grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:m?.multimedia?.map(({identifier:t,rightsHolder:i,created:d})=>s.jsx("div",{className:"relative",children:s.jsxs("a",{href:`https://${t}`,target:"_blank",children:[s.jsx("img",{src:`https://${t}`,alt:i}),s.jsx("div",{className:"absolute bottom-0 right-0 left-0 bg-gray-200 text-xs px-2",children:d})]})}))})]})}export{b as default};
